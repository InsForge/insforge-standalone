# PostgreSQL configuration for InsForge
# Enable logical replication for Logflare

# Listen on all interfaces to allow container connections
listen_addresses = '*'

# Set WAL level to logical for Logflare replication
wal_level = logical

# Set max replication slots (needed for logical replication)
max_replication_slots = 10

# Set max WAL senders
max_wal_senders = 10

# Shared preload libraries (if needed)
# shared_preload_libraries = 'pg_stat_statements'
shared_preload_libraries = 'pg_cron,http,pgcrypto,vector,pg_net'

cron.database_name = 'insforge'

# Memory tuning for low-memory environments (< 1GB total RAM)
shared_buffers = 32MB
work_mem = 2MB
maintenance_work_mem = 16MB
effective_cache_size = 128MB

# Connection limits
max_connections = 60

# WAL settings for stability
wal_buffers = 2MB
